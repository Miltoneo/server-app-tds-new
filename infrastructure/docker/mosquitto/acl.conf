# ========================================
# Mosquitto Access Control List (ACL)
# TDS New - Development Environment
# ========================================

# Admin user - full access
user admin
topic readwrite #

# Django backend user - read/write telemetry
user django_backend
topic read tds_new/devices/+/telemetry
topic write tds_new/backend/#

# IoT Gateway pattern - write only to own topic
# Gateways authenticate with their MAC address as username
# Example: aa:bb:cc:dd:ee:ff
pattern write tds_new/devices/%u/telemetry
pattern read tds_new/devices/%u/commands

# Dashboard user - read only
user dashboard
topic read tds_new/#

# System topics (read-only for all authenticated users)
topic read $SYS/#
